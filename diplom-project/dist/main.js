!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=()=>{document.querySelector(".form-wrapper");const e=document.querySelector(".club-select"),t=e.querySelector(".club-select ul");e.addEventListener("click",()=>{t.style.display&&"none"!==t.style.display?t.style.display="none":t.style.display="block"})};var o=(e=!1,t,n=!1)=>{!1===e?t.style.display="block":e.addEventListener("click",e=>{t.style.display="block"}),t.addEventListener("click",e=>{let r=e.target;(r.matches(".overlay")||r.matches(".close_icon")||r.matches(".close-btn"))&&(t.style.display="none",n&&n())})};const l=e=>{e.forEach((e,t)=>{"text"!==e.type&&"tel"!==e.type||(e.value="")})},c=e=>{let t=/[a-яА-Я,\s]/i;return!(!(t=/[А-яё/B]/i).test(e)&&" "!=e)},a=e=>{return/^((8|\+7)[\-]?)?(\(?\d{3}\)?[\-]?)?[\d\-]{7,18}$/.test(e)},s=e=>{return!!/[0-9/B]/i.test(e)};var u=(e,t=!1)=>{const n=e.querySelectorAll("input"),r=document.createElement("div");r.style.cssText="font-size: 2rem;";e.addEventListener("keydown",e=>{const t=e.target;return t.matches("input[name=name]")&&!0!==c(e.key)?(e.preventDefault(),!1):t.matches("input[name=phone]")&&!0!==s(e.key)?(e.preventDefault(),!1):void 0}),e.addEventListener("submit",o=>{o.preventDefault(),e.appendChild(r);const c=new FormData(e);let s={};if(t?t.checked?console.log("Проверка пройдена"):alert("Подтвердите согласие на обработку персональных данных!"):console.log("проверка не пройдена"),c.forEach((e,t)=>{s[t]=e}),s.phone){if(!a(s.phone))return alert("Телефон введен неправильно!"),!1;console.log("Отлично!")}r.textContent="Загрузка...",(e=>fetch("./server.php",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}))(s).then(e=>{if(200!==e.status)throw new Error("status network not 200");r.textContent="Сообщение отправлено!",l(n)}).catch(e=>{r.textContent="Что-то пошло не так...",console.error()})})};var i=(e,t=!1)=>{const n=document.querySelector("#thanks h4"),r=document.querySelector("#thanks p"),u=e.querySelectorAll("input");e.addEventListener("keydown",e=>{const t=e.target;return t.matches("input[name=name]")&&!0!==c(e.key)?(e.preventDefault(),!1):t.matches("input[name=phone]")&&!0!==s(e.key)?(e.preventDefault(),!1):void 0}),e.addEventListener("submit",c=>{c.preventDefault();const s=new FormData(e);let i={};if(t?t.checked?console.log("Проверка пройдена"):alert("Подтвердите согласие на обработку персональных данных!"):console.log("Проверка не пройдена"),s.forEach((e,t)=>{i[t]=e}),i.phone){if(!a(i.phone))return alert("Телефон введен неправильно!"),!1;console.log("Отлично!")}(e=>fetch("./server.php",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}))(i).then(e=>{if(200!==e.status)return n.textContent="Произошла ошибка",r.innerHTML="\n                        Ваша заявка не отправлена.\n                    ",o(!1,document.getElementById("thanks")),!1;n.textContent="Спасибо!",r.innerHTML="Ваша заявка отправлена! Мы свяжемся с вами в ближайшее время.",o(!1,document.getElementById("thanks")),l(u)}).catch(e=>{n.textContent="Произошла ошибка",r.innerHTML="\n                        Ваша заявка не отправлена.\n                    ",o(!1,document.getElementById("thanks")),l(u)})})};var d=()=>{let e=document.querySelector(".main-slider").querySelectorAll(".slide"),t=0;setInterval(()=>{e[t].style.display="none",++t>=e.length&&(t=0),e[t].style.display="flex"},5e3)};o(document.querySelector(".fixed-gift"),document.getElementById("gift"),()=>{document.querySelector(".fixed-gift").style.display="none"}),o(document.querySelector(".open-popup"),document.getElementById("free_visit_form")),o(document.querySelector(".call .callback-btn"),document.getElementById("callback_form")),r(),u(),i(),d()}]);